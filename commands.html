<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>月隱伺服器｜遊戲內介紹</title>

  <!-- Styles -->
  <link rel="stylesheet" href="assets/css/style.css" />

  <!-- Favicon -->
<link rel="icon" href="favicon.ico?v=20260101" sizes="any">
<link rel="icon" type="image/png" href="favicon.png?v=20260101" sizes="32x32">
<link rel="apple-touch-icon" href="apple-touch-icon.png?v=20260101">

</head>

<body>
  <div class="page-overlay">

    <!-- ===== Header ===== -->
    <header class="site-header">
      <div class="site-header__inner">
        <h1 class="site-title">遊戲內介紹</h1>
        <p class="site-subtitle">
          遊戲內指令、玩法說明與注意事項（以伺服器實際設定為準）
        </p>
      </div>
    </header>

    <!-- ===== Main ===== -->
    <main class="content">

      <!-- 行為準則 -->
      <section class="card">
        <h2>相關規定（行為準則）</h2>

        <p>
          遊戲內如同一個小型社會的【公共場合】，需要所有玩家共同維護良好的遊戲環境。
          為了讓每位玩家都能安心、愉快地遊玩，請務必遵守以下基本規定：
        </p>

        <ul>
          <li>
            💬 <strong>交流時請保持【禮貌】、【尊重】、【自重】</strong><br />
            避免人身攻擊、挑釁、嘲諷或任何讓他人感到不適的言行。
          </li>

          <li>
            🚫 <strong>拒絕各種【紛爭】、【分裂手段】與【騷擾行為】</strong><br />
            包含但不限於引戰、刻意挑撥、持續針對特定玩家。
          </li>

          <li>
            💬 <strong>聊天頻道請勿【洗頻】或發送【重複性話語】</strong><br />
            包含大量重複訊息或無意義刷屏，影響他人交流。
          </li>

          <li>
            🎧 <strong>遊戲內含語音功能</strong><br />
            請留意麥克風是否有雜訊或靈敏度過高導致漏麥，避免影響他人。
          </li>

          <li>
            🏗️ <strong>請勿擅自拿取或破壞他人建築與道具</strong><br />
            若有需求，請事先徵求對方同意。
          </li>
        </ul>

        <p class="muted-text">
          ※ 感謝每一位玩家的配合，一起維護良好的遊戲環境。
        </p>
      </section>

      <!-- 指令總覽 -->
      <section class="card">
        <h2>遊戲內指令總覽</h2>

        <p>
          以下為玩家可使用的基本指令，請於聊天欄按 <strong>T</strong> 輸入。
        </p>

        <h3>使用說明</h3>
        <ul>
          <li>指令是否區分大小寫，視模組或插件而定。</li>
          <li>若指令無反應，可能為未開放或權限不足。</li>
        </ul>

        <h3>基本操作</h3>
        <ul>
          <li><code>/help</code>－查看可用指令</li>
          <li><code>/sethome</code>－設定目前位置為家</li>
          <li><code>/home</code>－傳送回家</li>
          <li><code>/homes</code>－查看已有的家</li>
          <li><code>/delhome</code>－刪除家</li>
        </ul>

        <h3>傳送與移動</h3>
        <ul>
          <li><code>/tpa 玩家ID</code>－請求傳送</li>
          <li><code>/tpaccept</code>－接受請求</li>
          <li><code>/tpdeny</code>－拒絕請求</li>
        </ul>

        <h3>社交與聊天</h3>
        <ul>
          <li><code>/msg 玩家ID 訊息</code>－私訊玩家</li>
          <li><code>/r 訊息</code>－回覆私訊</li>
          <li><code>/ignore 玩家ID</code>－忽略玩家</li>
          <li><code>/list</code>－查看在線玩家</li>
        </ul>

        <h3>查詢與輔助</h3>
        <ul>
          <li><code>/ping</code>－查看延遲</li>
          <li><code>/discord</code>－綁定 Discord（帳號連動 / 驗證）</li>
        </ul>

        <p class="muted-text">
          ※ 指令可能隨伺服器設定或版本更新調整。
        </p>
      </section>

<!-- 已知問題 -->
<section class="card">
  <h2>已知問題</h2>

  <p class="muted-text">
    暫無，等待回報。
  </p>
        <p class="muted-text">
          若遇到其他異常，請至官方 Discord 回報並附上相關資訊。
        </p>
      </section>

      <!-- 返回 -->
      <section class="card">
        <a class="cta-link" href="index.html">← 回到官網首頁</a>
      </section>

    </main>

    <!-- ===== Footer ===== -->
    <footer class="site-footer">
      © 2025 月隱伺服器 MoonShadow Server
    </footer>
  </div>

  <!-- 浮動 Discord -->
  <a
    class="fab-discord"
    href="https://discord.gg/s6r99fW"
    target="_blank"
    rel="noopener"
    aria-label="加入官方 Discord"
    title="加入官方 Discord"
  >
    <svg class="fab-discord__icon" viewBox="0 0 24 24" aria-hidden="true">
      <path fill="currentColor"
        d="M19.54 0.7A19.9 19.9 0 0 0 14.8 0a14.6 14.6 0 0 0-.64 1.33a18.3 18.3 0 0 0-4.32 0A14.6 14.6 0 0 0 9.2 0a19.9 19.9 0 0 0-4.74.7C1.46 5.1.67 9.4 1.02 13.63A19.9 19.9 0 0 0 6.1 16.1a15.3 15.3 0 0 0 1.07-1.75a12.7 12.7 0 0 1-1.69-.8c.14-.1.28-.2.41-.31a13.8 13.8 0 0 0 12.2 0c.13.11.27.21.41.31c-.54.32-1.1.6-1.69.8c.32.6.68 1.19 1.07 1.75a19.9 19.9 0 0 0 5.08-2.47c.4-4.9-.66-9.16-3.43-12.93Z"/>
    </svg>
    <span class="fab-discord__text">加入 Discord</span>
  </a>
  
<div class="mc-bgm">
  <button id="bgm-toggle" class="mc-bgm-btn">▶ BGM</button>

  <div class="mc-bgm-volume-wrap">
    <span class="mc-bgm-icon">🔊</span>
    <input
      id="bgm-volume"
      class="mc-bgm-volume"
      type="range"
      min="0"
      max="100"
      value="50"
    />
  </div>
</div>


<script>
(function () {
  const tracks = [
    "assets/bgm/bgm1.mp3",
    "assets/bgm/bgm2.mp3",
    "assets/bgm/bgm3.mp3",
    "assets/bgm/bgm4.mp3",
    "assets/bgm/bgm5.mp3",
    "assets/bgm/bgm6.mp3"
  ];

  const audio = new Audio();
  audio.preload = "auto";
  audio.volume = 0.5;
  audio.loop = false;

  const toggleBtn = document.getElementById("bgm-toggle");
  const volumeSlider = document.getElementById("bgm-volume");
  if (!toggleBtn || !volumeSlider) return;

  let unlocked = false;
  let currentIndex = -1;

  function pickRandomIndex() {
    let next;
    do {
      next = Math.floor(Math.random() * tracks.length);
    } while (next === currentIndex && tracks.length > 1);
    return next;
  }

  async function playIndex(i, { userGesture = false } = {}) {
    currentIndex = i;
    audio.src = tracks[currentIndex];

    try {
      if (!unlocked && userGesture) {
        // 🔑 第一次必須走「靜音解鎖」流程
        audio.muted = true;
        await audio.play();
        audio.muted = false;
        unlocked = true;
        toggleBtn.textContent = "🔊 音樂 ON";
        return;
      }

      // 已解鎖後播放（可能仍被策略影響，因此保險：短暫靜音再解）
      audio.muted = true;
      await audio.play();
      audio.muted = false;
      toggleBtn.textContent = "🔊 音樂 ON";
    } catch (e) {
      // 若自動下一首被擋，提示使用者再點一次
      toggleBtn.textContent = "▶ 點我續播";
      console.warn("BGM play blocked:", e);
    }
  }

  // 第一次解鎖：必須在使用者事件內
  toggleBtn.addEventListener("pointerdown", async () => {
    if (unlocked) return;
    await playIndex(pickRandomIndex(), { userGesture: true });
  });

  // 點擊按鈕：播放/暫停（播放時每次隨機一首）
  toggleBtn.addEventListener("click", async () => {
    if (!unlocked) return;

    if (audio.paused) {
      await playIndex(pickRandomIndex());
    } else {
      audio.pause();
      toggleBtn.textContent = "🔇 音樂 OFF";
    }
  });

  // ✅ 自動下一首：結束時隨機播下一首
  audio.addEventListener("ended", async () => {
    if (!unlocked) return;
    await playIndex(pickRandomIndex());
  });

  // 音量
  volumeSlider.addEventListener("input", () => {
    audio.volume = volumeSlider.value / 100;
  });
})();
</script>


</body>
</html>
